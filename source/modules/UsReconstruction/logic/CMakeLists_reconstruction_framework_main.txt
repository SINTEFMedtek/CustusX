# This file is the top level CMakeLists.txt file for the 
# standalone reconstruction framework.
# It is meant to be placed at the top of a directory structure
# with the subdirectories:
# app and UsReconstruction
# Get the directories like this:
# svn co svn+ssh://cxserver.sintef.no/svn/Repository/CustusX3/source/apps/UsReconstruction app
# svn co svn+ssh://cxserver.sintef.no/svn/Repository/CustusX3/source/UsReconstruction UsReconstruction
# ssc is also needed: svn co https://wush.net/svn/ssc/ ssc
 

PROJECT(GPU_reconstruction_framework)

cmake_minimum_required(VERSION 2.6)

# Boost
#----------
find_package( Boost REQUIRED )

# Qt
#----------
# find and setup Qt4 for this project
SET (QT_USE_QTXML TRUE)
find_package(Qt4 REQUIRED)
IF(QT_USE_FILE)
  INCLUDE(${QT_USE_FILE})
ELSE(QT_USE_FILE)
  SET(QT_LIBRARIES   ${QT_QT_LIBRARY})
ENDIF(QT_USE_FILE)

# VTK
#----------
FIND_PACKAGE(VTK)
IF(NOT VTK_DIR)
  MESSAGE(FATAL_ERROR "Please set VTK_DIR.")
ENDIF(NOT VTK_DIR)
INCLUDE(${VTK_USE_FILE})

# ITK
#----------
FIND_PACKAGE(ITK)
IF(NOT ITK_DIR)
  MESSAGE(FATAL_ERROR "Please set ITK_DIR.")
ENDIF(NOT ITK_DIR)
INCLUDE(${ITK_USE_FILE})

# SSC
#----------
find_package (SSC PATHS "../externals/ssc/CMake")
if (SSC_FOUND)
	include (${SSC_USE_FILE})
	#add_executable (testSSC testSSC.cpp)
	#target_link_libraries (testSSC SSC)
	link_directories (${SSC_DIR}/Code)
endif (SSC_FOUND)
message(STATUS "verdi av libfolders: " ${SSC_LIBRARY_DIRS} ) 
#----------

INCLUDE_DIRECTORIES(
    .
    ssc
    UsReconstruction
    app
    )

SET (THUNDER_FRAMEWORK ON)

ADD_SUBDIRECTORY(ssc)
ADD_SUBDIRECTORY(UsReconstruction)
ADD_SUBDIRECTORY(app)

SET ( LINK_LIBRARIES
  ${BOOST_LIBRARIES}
  ${QT_LIBRARIES}
  UsReconstruction
  ssc
  #vtkRendering
  #vtkWidgets
  #vtkGraphics
  #vtkIO
  #vtkCommon
  #vtkImaging
  #vtkFiltering
  #vtkHybrid
  #vtkVolumeRendering
#  ITKCommon
#  ITKBasicFilters
#  ITKIO
  #vtkDataManagement
  #vtkRenderingAddOn
  #QVTK
  #sscUsReconstructionLib  
  #SSC
)
      
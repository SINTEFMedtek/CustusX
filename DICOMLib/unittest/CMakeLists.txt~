# =========================================================
# Sonowand C++ DICOMLib Unit Tests 
# =========================================================

# =========================================================
# list of all test units
QT4_WRAP_CPP( DL_TEST_SOURCE_FILES 
    DICOMLibTest.h)
set(DL_TEST_SOURCE_FILES
	DICOMLibTest.cpp
    ${DL_TEST_SOURCE_FILES}
    ) 


# =========================================================
# -- CppUnit - CTest integration. ---------------
# --   Use CISST_ADD_TESTS() to convert each CppUnit test to a CTest test. 

# Initialize cisst routines
set(CMAKE_MODULE_PATH ${CMAKE_MODULE_PATH} ${SSC_SOURCE_DIR}/Testing/cisst_code)
include(cisstMacros)

# link all CppUnit tests to the cisstTestsMain library
add_executable(testDICOMLib_CppUnit_CTest ${DL_TEST_SOURCE_FILES} )
target_link_libraries(testDICOMLib_CppUnit_CTest snwDICOMLib cisstTestsMain cppunit )
set_target_properties(testDICOMLib_CppUnit_CTest PROPERTIES LINK_FLAGS "${SNW_LINK_FLAGS} ${GRABLINKFLAGS}" COMPILE_FLAGS "${SNW_TEST_FLAGS} ${GRABCFLAGS}")
# Generate a CTest list of tests
CISST_ADD_TESTS(testDICOMLib_CppUnit_CTest)

# -- finished CppUnit - CTest integration. ------
# =========================================================
